const o="https://data-forge-fix.preview.emergentagent.com";async function s(r,t="GET",e){try{const a={method:t,headers:{"Content-Type":"application/json"}};e&&(a.body=JSON.stringify(e));const n=await fetch(`${o}${r}`,a);return n.ok?{success:!0,data:await n.json()}:{success:!1,error:(await n.json().catch(()=>({}))).detail||`HTTP error ${n.status}`}}catch(a){return console.error("API request error:",a),{success:!1,error:a instanceof Error?a.message:"Network error"}}}const u={trainPredictionModel:async(r,t,e,a="auto")=>s("/api/ml/predict","POST",{data:r,target_column:t,feature_columns:e,model_type:a}),performClustering:async(r,t,e,a="kmeans")=>s("/api/ml/cluster","POST",{data:r,feature_columns:t,n_clusters:e,algorithm:a}),detectAnomalies:async(r,t,e=.1)=>s("/api/ml/anomaly","POST",{data:r,feature_columns:t,contamination:e})},l={generateInsights:async(r,t,e="Dataset",a)=>s("/api/ai/insights","POST",{data:r,columns:t,dataset_name:e,focus_areas:a}),answerQuery:async(r,t,e,a)=>s("/api/ai/query","POST",{data:r,columns:t,query:e,conversation_history:a}),explainAnalysis:async(r,t,e="")=>s("/api/ai/explain","POST",{analysis_type:r,analysis_results:t,data_context:e}),generateRecommendations:async(r,t,e,a="")=>s("/api/ai/recommendations","POST",{data:r,columns:t,analysis_results:e,business_context:a})};export{l as a,u as m};
